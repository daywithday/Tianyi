(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f6e4bc0"],{"360e":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chat-history-container"},[s("aside",[e._v(" "+e._s(e.$t("route.telnet"))+" ")]),s("div",{ref:"telnet",staticClass:"telnet "},[s("ul",e._l(e.commonList,(function(t,o){return s("li",{key:o},[s("p",{staticStyle:{color:"blue"}},[e._v(e._s(e.$t("telnet.server"))+" "+e._s(e.getTime(t))+" ")]),e._v(" "+e._s(t)+" ")])})),0)]),s("el-form",{staticClass:"demo-form-inline container",attrs:{inline:!0}},[s("el-form-item",{attrs:{label:""}},[s("el-input",{attrs:{placeholder:e.$t("telnet.placeholder"),clearable:"","label-width":"auto"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.commond,callback:function(t){e.commond=t},expression:"commond"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.send()}}},[e._v(e._s(e.$t("telnet.send")))])],1)],1)],1)},n=[],c=s("5f87"),i=s("7c15"),l={name:"telnet",data(){return{websock:null,commonList:[],commond:""}},created(){let e=this;Object(i["g"])().then(t=>{e.initWebSocket(t.data.webConfig.webSocketPort)})},destroyed(){this.websock.close()},methods:{getTime(e){return e.split("T")[1]?e.split("T")[1].slice(0,9):""},send(){let e=this.commond;e&&this.websocketsend(e)},initWebSocket(e){const t="ws://"+Object(c["b"])()+":"+e+"?access-token="+Object(c["c"])();this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen(){this.websocketsend("admin")},websocketonerror(){this.initWebSocket()},websocketonmessage(e){this.commonList.push(e.data)},websocketsend(e){let t=this;this.websock.send(e),this.commond="",setTimeout(()=>{t.$refs.telnet.scrollTo(0,999999)},100)},websocketclose(e){console.log("断开连接",e)}}},r=l,a=(s("a1b4"),s("4ac2")),b=Object(a["a"])(r,o,n,!1,null,"1de69b21",null);t["default"]=b.exports},a1b4:function(e,t,s){"use strict";s("a7fa")},a7fa:function(e,t,s){}}]);